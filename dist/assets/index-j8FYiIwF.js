import{u as n,b as o,a as f,j as s,d as b,i as y,e as N,f as v,r as C,c as w}from"./index-CXKPZ4x8.js";const k=({product:e,categoryId:i})=>{const{title:a,image:c,price:l,id:m}=e,{cart:x}=n(t=>t.cart),d=o(),u=f(),h={...e,quantity:1},r=x.find(t=>t.id===m),g=()=>{r||d(N([h]))},p=t=>{d(y({id:t,quantity:1}))},j=t=>{d(b({id:t,quantity:1}))};return s.jsxs("div",{className:"max-w-sm rounded overflow-hidden shadow-lg m-4 p-4 cursor-pointer",children:[s.jsxs("div",{onClick:()=>{u(`/products/category/${i}/${e.id}`,{state:e})},children:[s.jsx("img",{className:"w-80 h-60",src:c,alt:a}),s.jsx("div",{className:" py-4",children:s.jsx("div",{className:"font-bold mb-2 truncate",children:a})}),s.jsxs("p",{className:"text-gray-700 text-base font-semibold",children:["â‚¹ ",l]})]}),r?s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2 justify-center w-full",children:[s.jsx("button",{onClick:()=>j(r.id),className:"border px-2 text-lg",children:"-"}),s.jsx("div",{className:"border px-2 text-center",children:r.quantity}),s.jsx("button",{onClick:()=>p(r.id),className:"border px-2 text-lg",children:"+"})]}):s.jsx("button",{className:"w-full py-2 rounded mt-2 bg-sky-900 font-bold text-white",onClick:g,children:"Add to Cart"})]})};function I(){const{products:e}=n(c=>c.product),i=o(),{categoryId:a}=v();return C.useEffect(()=>{i(w(`/products/category/${a}`))},[a]),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4",children:e.map(c=>s.jsx("div",{children:s.jsx(k,{product:c,categoryId:a})},c.id))})}export{I as default};
